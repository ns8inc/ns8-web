<!DOCTYPE html>
<html>
<head>
    <% include ../partials/master/header %>
    <link href="/codemirror/codemirror.css" rel="stylesheet">
    <link href="/codemirror/theme/blackboard.css" rel="stylesheet">

    <style>
        .CodeMirror {
            height: 270px;
        }
    </style>
</head>

<body class="fixed-navigation">

<div id="wrapper">

    <% include partials/leftPanel %>

    <div id="page-wrapper" class="white-bg">

        <% include partials/topPanel %>

        <div class="wrapper wrapper-content">

            <% include ../partials/master/message %>
            <div class="row white-bg" style="min-height:900px">
                <div class="col-lg-12">
                    <h1>Realtime User Scoring/Profiling</h1>
                    <h2>Node.js Example</h2>
                    <br><%- application.branding.productName %> has published an NPM package called <code>ns8-data-services</code>.  This package allows for querying the user scoring API easily from Node.js projects.
                    To get the package, install it from NPM into your project:
                    <br><br><pre>
npm install ns8-score</pre>

                    <br>You can view the package on the NPM site: <a href="https://www.npmjs.com/package/ns8-data-services">ns8-data-services</a>.
                    <br><br>Once the package is installed, you can make API calls like so:
                    <br><br><textarea id="code">
var ns8Score = require('ns8-data-services');

var options = {
    ip: '72.211.250.156',
    ua: 'Mozilla/5.0 (iPad; U; CPU OS 3_2_1 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko)',
    referrer: 'http://bing.com/search?q=bicycle',
    url: 'http://mysite.com'
};

ns8Score.score(options, function(err, result) {
    if (result && result.score < 100)
        console.log('Invalid user');
});</textarea>

                </div>
            </div>
        </div>
        <% include ../partials/master/footer %>
    </div>
</div>

<script src="/codemirror/codemirror.js"></script>
<script src="/codemirror/mode/javascript/javascript.js"></script>
<% include ../partials/master/footerScripts %>

<script>

    $(document).ready(function() {

        CodeMirror.fromTextArea(document.getElementById("code"), {
            mode:  "javascript",
            theme: "blackboard",
            lineNumbers: true,
            matchBrackets: true,
            styleActiveLine: true
        });
    });
</script>
</body>
</html>
